(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{488:function(t,a,s){"use strict";s.r(a);var n=s(45),_=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"数字"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数字"}},[t._v("#")]),t._v(" 数字")]),t._v(" "),s("h2",{attrs:{id:"机器字长"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#机器字长"}},[t._v("#")]),t._v(" 机器字长")]),t._v(" "),s("p",[t._v("一般指计算机进行一次整数运算所能处理的二进制数据的位数。")]),t._v(" "),s("p",[t._v("通常也包括数据地址长度。")]),t._v(" "),s("p",[t._v("内存按照字节访问。")]),t._v(" "),s("p",[t._v("相邻机器字的地址相差32位。")]),t._v(" "),s("h2",{attrs:{id:"大端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#大端"}},[t._v("#")]),t._v(" 大端")]),t._v(" "),s("p",[t._v("低位字节占用高地址。网络字节序。")]),t._v(" "),s("h2",{attrs:{id:"小端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小端"}},[t._v("#")]),t._v(" 小端")]),t._v(" "),s("p",[t._v("低对低，高对高。")]),t._v(" "),s("h2",{attrs:{id:"字节序对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字节序对比"}},[t._v("#")]),t._v(" 字节序对比")]),t._v(" "),s("p",[t._v("数值：0x01234567，\n地址是0x100，其中0x0123 是高位字节。符合人类阅读顺序，比如123 是一百二十三，1就是最高位。")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2016/11/byte-order.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("理解字节序"),s("OutboundLink")],1)]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("大端")]),t._v(" "),s("th",[t._v("小端")]),t._v(" "),s("th",[t._v("数值")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("0x100")]),t._v(" "),s("td",[t._v("0x103")]),t._v(" "),s("td",[t._v("01")])]),t._v(" "),s("tr",[s("td",[t._v("0x101")]),t._v(" "),s("td",[t._v("0x102")]),t._v(" "),s("td",[t._v("23")])]),t._v(" "),s("tr",[s("td",[t._v("0x102")]),t._v(" "),s("td",[t._v("0x101")]),t._v(" "),s("td",[t._v("45")])]),t._v(" "),s("tr",[s("td",[t._v("0x103")]),t._v(" "),s("td",[t._v("0x100")]),t._v(" "),s("td",[t._v("67")])])])]),t._v(" "),s("h2",{attrs:{id:"无符号数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#无符号数"}},[t._v("#")]),t._v(" 无符号数")]),t._v(" "),s("p",[t._v("直接转换为二进制表示。")]),t._v(" "),s("p",[t._v("无符号的最大值显而易见，在位宽确定的情况下，是2的w次方减一。")]),t._v(" "),s("p",[t._v("最小值是0.")]),t._v(" "),s("h2",{attrs:{id:"有符号数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#有符号数"}},[t._v("#")]),t._v(" 有符号数")]),t._v(" "),s("p",[t._v("正数，负数，0。")]),t._v(" "),s("p",[t._v("补码0 只有一种表示。")]),t._v(" "),s("p",[t._v("因此需要用补码表示，有符号位，符号位也有权重。")]),t._v(" "),s("p",[t._v("正数部分按位取反，然后加一就可以得到补码。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("数值")]),t._v(" "),s("th",[t._v("操作")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("0011000000111001")]),t._v(" "),s("td",[t._v("12345的真值")])]),t._v(" "),s("tr",[s("td",[t._v("1100111111000110")]),t._v(" "),s("td",[t._v("按位取反")])]),t._v(" "),s("tr",[s("td",[t._v("+1")]),t._v(" "),s("td",[t._v("加1")])]),t._v(" "),s("tr",[s("td",[t._v("1100111111000111")]),t._v(" "),s("td",[t._v("得到补码")])]),t._v(" "),s("tr",[s("td",[t._v("0011000000111000")]),t._v(" "),s("td",[t._v("按位取反")])]),t._v(" "),s("tr",[s("td",[t._v("+1")]),t._v(" "),s("td",[t._v("+1")])]),t._v(" "),s("tr",[s("td",[t._v("0011000000111001")]),t._v(" "),s("td",[t._v("得到源码")])])])]),t._v(" "),s("p",[t._v("有符号的最大值是个正数，而且需要拿出一位作为符号位，因此是2的(w-1)次方减一。\n最小值是负的2的(w-1)。这是由于符号位是有权重的，也是参与实际数值的计算的。正数的第一位是0，\n因此少了一个最高位的有效值，负数的最高位是有效的，所以后面都跟0是显而易见的。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("1000\n0111\n1\n1000\n")])])]),s("p",[t._v("补码中有两个数的补码是自身，0和绝对值最大的负数。")]),t._v(" "),s("h2",{attrs:{id:"补码求源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#补码求源码"}},[t._v("#")]),t._v(" 补码求源码")]),t._v(" "),s("ol",[s("li",[t._v("如果补码的符号位为“0”，表示是一个正数，其原码就是补码。")]),t._v(" "),s("li",[t._v("如果补码的符号位为“1”，表示是一个负数，那么求给定的这个补码的补码就是要求的原码。")])]),t._v(" "),s("p",[t._v("补码，原码，反码都是有符号的。")]),t._v(" "),s("p",[t._v("使用补码，可以将符号位和数值域统一处理；同时，加法和减法也可以统一处理。")]),t._v(" "),s("h2",{attrs:{id:"c-语言中的有符号数和无符号数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#c-语言中的有符号数和无符号数"}},[t._v("#")]),t._v(" C 语言中的有符号数和无符号数")]),t._v(" "),s("p",[t._v("模运算和按位运算可以采用无符号数。")]),t._v(" "),s("p",[t._v("其他情况不建议使用。")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<stdio.h>")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" argc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("argv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1u")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%d\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"???"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("当一个有符号数和无符号数比较时，会先转换为无符号数，\n可以观察到 有符号的负1比无符号的1大。但是似乎不影响四则运算。")]),t._v(" "),s("h2",{attrs:{id:"四则运算"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四则运算"}},[t._v("#")]),t._v(" 四则运算")]),t._v(" "),s("p",[t._v("补码加法可能溢出，正数相加溢出产生进位为1就变成了负数。负数相加进位首位变成0.")]),t._v(" "),s("p",[t._v("除数如果是2的k次方，则可以是被除数进行逻辑右移k位，也就是二进制位丢掉k个低位。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("右移位数")]),t._v(" "),s("th",[t._v("被除数")]),t._v(" "),s("th",[t._v("结果")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("0")]),t._v(" "),s("td",[t._v("15213")]),t._v(" "),s("td",[t._v("15213")])]),t._v(" "),s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("7606.5")]),t._v(" "),s("td",[t._v("7606")])]),t._v(" "),s("tr",[s("td",[t._v("4")]),t._v(" "),s("td",[t._v("950.8125")]),t._v(" "),s("td",[t._v("950")])]),t._v(" "),s("tr",[s("td",[t._v("8")]),t._v(" "),s("td",[t._v("59.4257813")]),t._v(" "),s("td",[t._v("59")])])])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("udiv8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unsigned")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])])]),s("div",{staticClass:"language-s extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("\t.section\t__TEXT,__text,regular,pure_instructions\n\t.build_version macos, 10, 15\tsdk_version 10, 15, 6\n\t.globl\t_udiv8                  ## -- Begin function udiv8\n\t.p2align\t4, 0x90\n_udiv8:                                 ## @udiv8\n\t.cfi_startproc\n## %bb.0:\n\tpushl\t%ebp\n\t.cfi_def_cfa_offset 8\n\t.cfi_offset %ebp, -8\n\tmovl\t%esp, %ebp\n\t.cfi_def_cfa_register %ebp\n\tmovl\t8(%ebp), %eax\n\tshrl\t$4, %eax\n\tpopl\t%ebp\n\tretl\n\t.cfi_endproc\n                                        ## -- End function\n\n.subsections_via_symbols\n")])])]),s("p",[t._v("其中重点是")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("shrl $4,%eax\n")])])]),s("p",[t._v("意思是逻辑右移四位。")]),t._v(" "),s("p",[t._v("有符号数的移位需要加上2的k次方减一校准。")]),t._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("总的来说，这一节就是整数的表示，浮点数在下一节记录。")]),t._v(" "),s("p",[t._v("计算机内部的整数是用补码表示的。")]),t._v(" "),s("p",[t._v("需要掌握补码和原码的转换，补码的四则运算，以及两个特殊值。")]),t._v(" "),s("p",[t._v("学习了组成原理之后，就可以自己设计一个加法器，乘法器，除法器。")]),t._v(" "),s("p",[t._v("c语言代码会编译成机器指令，被加载到内存，cpu一条条指令读取并执行。")])])}),[],!1,null,null,null);a.default=_.exports}}]);